/*! For license information please see main.946fbc438ede36a259a4.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefloema("main",{"./app/classes/Component.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var n=s("./node_modules/lodash/each.js"),a=s.n(n),o=s("./node_modules/events/events.js"),i=s.n(o);class l extends(i()){constructor({element:e,elements:t}){super(),this.selector=e,this.selectorChildren={...t},this.create(),this.addEventListeners()}create(){this.element=document.querySelector(this.selector),this.elements={},a()(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=document.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(this.elements[t]=document.querySelector(e)))}))}addEventListeners(){}removeEventListeners(){}}},"./app/components/Preloader.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var n=s("./node_modules/gsap/index.js"),a=s("./app/classes/Component.js"),o=s("./node_modules/lodash/each.js"),i=s.n(o),l=s("./app/utils/text.js");class r extends a.default{constructor(){super({element:".preloader",elements:{title:".preloader__text",number:".preloader__number",images:document.querySelectorAll("img")}}),this.elements.titleSpans=(0,l.split)({element:this.elements.title,expression:"<br>"}),this.length=0,console.log(this.element,this.elements),this.createLoader()}createLoader(){i()(this.elements.images,(e=>{e.onload=t=>this.onAssetLoaded(e),e.src=e.getAttribute("data-src")}))}onAssetLoaded(e){this.length+=1;const t=this.length/this.elements.images.length;this.elements.number.innerHTML=`${Math.round(100*t)}%`,1===t&&this.onLoaded()}onLoaded(){return new Promise((e=>{this.animateOut=n.default.timeline({delay:2}),this.animateOut.to(this.elements.titleSpans,{autoAlpha:0,duration:1.5,ease:"expo.out",stagger:.1,y:"100%"})}))}destroy(){this.element.parentNode.removeChild(this.element)}}},"./app/index.js":(e,t,s)=>{s.r(t);var n=s("./node_modules/lodash/each.js"),a=s.n(n),o=s("./app/components/Preloader.js"),i=s("./app/pages/About/index.js"),l=s("./app/pages/Collections/index.js"),r=s("./app/pages/Detail/index.js"),d=s("./app/pages/Home/index.js");new class{constructor(){this.createPreloader(),this.createContent(),this.createPages(),this.addLinkListeners()}createPreloader(){this.preloader=new o.default,this.preloader.once("completed",this.onPreloaded.bind(this))}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new i.default,collections:new l.default,detail:new r.default,home:new d.default},this.page=this.pages[this.template],this.page.create(),this.page.show()}onPreloaded(){this.preloader.destroy()}async onChange(e){await this.page.hide();const t=await window.fetch(e);if(200===t.status){const e=await t.text(),s=document.createElement("div");s.innerHTML=e;const n=s.querySelector(".content");this.template=n.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=n.innerHTML,this.page=this.pages[this.template],this.page.create(),this.page.show(),this.addLinkListeners()}else console.log("Error")}addLinkListeners(){const e=document.querySelectorAll("a");a()(e,(e=>{e.onclick=t=>{const{href:s}=e;t.preventDefault(),this.onChange(s)}}))}}}},(function(e){e.h=()=>"ddf9f538f640e0a684a6"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSUMsRUFBQUEsUUFDakJDLE9BQVEsSUFBSUMsRUFBQUEsUUFDWkMsS0FBTSxJQUFJQyxFQUFBQSxTQUlaeEUsS0FBS3lFLEtBQU96RSxLQUFLZ0UsTUFBTWhFLEtBQUsrRCxVQUU1Qi9ELEtBQUt5RSxLQUFLdEUsU0FDVkgsS0FBS3lFLEtBQUtDLE1BQ1osQ0FHQWQsV0FBQUEsR0FFRTVELEtBQUswRCxVQUFVUCxTQUNqQixDQUdBLGNBQU13QixDQUFVQyxTQUVSNUUsS0FBS3lFLEtBQUtJLE9BR2hCLE1BQU1DLFFBQWdCcEUsT0FBT3FFLE1BQU1ILEdBR25DLEdBQXNCLE1BQW5CRSxFQUFRRSxPQUFlLENBRXhCLE1BQU1DLFFBQWFILEVBQVFJLE9BRXJCQyxFQUFNOUUsU0FBUytFLGNBQWMsT0FFbkNELEVBQUloRCxVQUFZOEMsRUFHaEIsTUFBTUksRUFBYUYsRUFBSTdFLGNBQWMsWUFHckNOLEtBQUsrRCxTQUFXc0IsRUFBV3JELGFBQWEsaUJBRXhDaEMsS0FBSzhELFFBQVF3QixhQUFhLGdCQUFpQnRGLEtBQUsrRCxVQUdoRC9ELEtBQUs4RCxRQUFRM0IsVUFBWWtELEVBQVdsRCxVQUdwQ25DLEtBQUt5RSxLQUFPekUsS0FBS2dFLE1BQU1oRSxLQUFLK0QsVUFFNUIvRCxLQUFLeUUsS0FBS3RFLFNBRVZILEtBQUt5RSxLQUFLQyxPQUdWMUUsS0FBS3lELGtCQUNQLE1BQ0VoQyxRQUFRQyxJQUFJLFFBRWhCLENBR0ErQixnQkFBQUEsR0FDRSxNQUFNOEIsRUFBUWxGLFNBQVNVLGlCQUFpQixLQUd4Q1IsSUFBS2dGLEdBQU9DLElBQ1ZBLEVBQUtDLFFBQVVDLElBQ2IsTUFBTSxLQUFFQyxHQUFTSCxFQUNqQkUsRUFBTUUsaUJBRU41RixLQUFLMkUsU0FBU2dCLEVBQUssQ0FDcEIsR0FFTCxrQkM3R0ZFLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbG9lbWEvLi9hcHAvY2xhc3Nlcy9Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZmxvZW1hLy4vYXBwL2NvbXBvbmVudHMvUHJlbG9hZGVyLmpzIiwid2VicGFjazovL2Zsb2VtYS8uL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9mbG9lbWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJyAvLyBlYWNoIGZ1bmN0aW9uIGZyb20gbG9kYXNoLCBmb3IgaXRlcmF0aW5nIG92ZXIgY29sbGVjdGlvbnMuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cycgLy8gRXZlbnRFbWl0dGVyIGZvciBoYW5kbGluZyBldmVudHMuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvbmVudCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yICh7XG4gICAgZWxlbWVudCxcbiAgICBlbGVtZW50cyxcbiAgfSkge1xuICAgIHN1cGVyKCkgIC8vIENhbGxzIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgcGFyZW50IGNsYXNzIChFdmVudEVtaXR0ZXIpXG5cbiAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxuICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHtcbiAgICAgIC4uLmVsZW1lbnRzXG4gICAgfVxuICAgIHRoaXMuY3JlYXRlKCkgLy8gQ2FsbHMgdGhlIGNyZWF0ZSBtZXRob2QgdG8gc2V0IHVwIGVsZW1lbnRzIGJhc2VkIG9uIHByb3ZpZGVkIGluZm9ybWF0aW9uLlxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKSAvLyBDYWxscyBhIG1ldGhvZCB0byBzZXQgdXAgZXZlbnQgbGlzdGVuZXJzLlxuICB9XG4gIGNyZWF0ZSAoKSB7XG4gICAgLy8gU2V0dGluZyB1cCB0aGUgZWxlbWVudCBwcm9wZXJ0eSB3aXRoIHRoZSBtYWluIHBhZ2UgZWxlbWVudC5cbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpXG4gICAgLy8gSW5pdGlhbGl6aW5nIGFuIGVtcHR5ICdlbGVtZW50cycgb2JqZWN0LlxuICAgIHRoaXMuZWxlbWVudHMgPSB7fVxuICAgIC8vIEl0ZXJhdGluZyBvdmVyIGVhY2gga2V5LXZhbHVlIHBhaXIgaW4gJ3NlbGVjdG9yQ2hpbGRyZW4nIHVzaW5nIGxvZGFzaCdzIGVhY2ggZnVuY3Rpb24uXG4gICAgZWFjaCh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4sIChlbnRyeSwga2V5KSA9PiB7XG4gICAgICAvLyBGb3IgZWFjaCBlbnRyeSBpbiAnc2VsZWN0b3JDaGlsZHJlJywgd2UgY2hlY2sgaWYgdGhlIHZhbHVlIGlzIGFuIEhUTUwgZWxlbWVudCwgYSBOb2RlTGlzdCwgb3IgYW4gYXJyYXkuXG4gICAgICBpZiAoZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHwgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZUxpc3QgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgLy8gSWYgc28sIGl0IGRpcmVjdGx5IGFzc2lnbnMgdGhlIHZhbHVlIHRvIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpbiB0aGUgJ2VsZW1lbnRzJyBvYmplY3QuXG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiBub3QsIGl0IGFzc3VtZXMgdGhlIHZhbHVlIHRvIGJlIGEgc2VsZWN0b3IgYW5kIHVzZXMgJ2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwnIHRvIHF1ZXJ5IHRoZSBET00gZm9yIGVsZW1lbnRzIHVzaW5nIHRoZSBwcm92aWRlZCBzZWxlY3RvclxuICAgICAgICAvLyBhbmQgYXNzaWducyB0aGUgcmVzdWx0IHRvIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpbiAnZWxlbWVudHMnLlxuICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVudHJ5KVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBtYXRjaGluZyBlbGVtZW50cywuLi5cbiAgICAgICAgaWYodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgLy8gLi4uaXQgc2V0cyB0aGUgdmFsdWUgdG8gJ251bGwnLlxuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IG51bGxcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmx5IG9uZSBtYXRjaGluZyBlbGVtZW50LCBpdCBhc3NpZ25zIHRoYXQgZWxlbWVudCBkaXJlY3RseS5cbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBhZGRFdmVudExpc3RlbmVycygpIHtcblxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgfVxufVxuIiwiaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCcgLy8gR3JlZW5Tb2NrIEFuaW1hdGlvbiBQbGF0Zm9ybSBmb3IgYW5pbWF0aW9uLlxuXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJ2NsYXNzZXMvQ29tcG9uZW50JyAvLyBDb21wb25lbnQgY2xhc3MgaW5pdGlhbGl6ZWQgaW4gQ29tcG9uZW50LmpzLlxuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnIC8vIGVhY2ggZnVuY3Rpb24gZnJvbSBsb2Rhc2gsIGZvciBpdGVyYXRpbmcgb3ZlciBjb2xsZWN0aW9ucy5cblxuaW1wb3J0IHsgc3BsaXQgfSBmcm9tICd1dGlscy90ZXh0JyAvLyBBIHNwbGl0IGZ1bmN0aW9uIGZyb20gdGhlIHV0aWxpdHkgbW9kdWxlIGNhbGVkIHRleHQuanMuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIC8vIFRoZSBjb25zdHJ1Y3RvciBzZXRzIHVwIHRoZSBwcmVsb2FkZXIgY29tcG9uZW50LlxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgLy8gQ2FsbHMgdGhlIHBhcmVudCBjbGFzcyAnQ29tcG9uZW50JyB3aXRoIGEgc3BlY2lmaWMgY29uZmlndXJhdGlvbiwgaW5jbHVkaW5nIHRoZSBtYWluIGVsZW1lbnQsIHRpdGxlLCBudW1iZXIsIGFuZCBpbWFnZXMuXG4gICAgc3VwZXIoe1xuICAgICAgZWxlbWVudDogJy5wcmVsb2FkZXInLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgdGl0bGU6ICcucHJlbG9hZGVyX190ZXh0JyxcbiAgICAgICAgbnVtYmVyOiAnLnByZWxvYWRlcl9fbnVtYmVyJyxcbiAgICAgICAgaW1hZ2VzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKVxuICAgICAgfVxuICAgIH0pXG4gICAgLy8gSXQgdXNlcyB0aGUgJ3NwbGl0JyBmdW5jdGlvbiB0byBicmVhayB0aGUgdGl0bGUgaW50byBzcGFucyB3aGVyZXZlciB0aGVyZSdzIGEgbGluZSBicmVhayAoJzxicj4nKS5cbiAgICB0aGlzLmVsZW1lbnRzLnRpdGxlU3BhbnMgPSBzcGxpdCh7XG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnRzLnRpdGxlLFxuICAgICAgZXhwcmVzc2lvbjogJzxicj4nXG4gICAgfSlcbiAgICAvLyBJbml0aWFsaXppbmcgYSAnbGVuZ3RoJyBwcm9wZXJ0eSB0byBrZWVwIHRyYWNrIG9mIGxvYWRlZCBpbWFnZXMuXG4gICAgdGhpcy5sZW5ndGggPSAwXG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLmVsZW1lbnQsIHRoaXMuZWxlbWVudHMpXG4gICAgLy8gQ2FsbHMgJ2NyZWF0ZUxvYWRlcicgbWV0aG9kIHRvIGhhbmRsZSBpbWFnZSBsb2FkaW5nLlxuICAgIHRoaXMuY3JlYXRlTG9hZGVyKClcbiAgfVxuXG4gIC8vIFRoaXMgY3JlYXRlTG9hZGVyIG1ldGhvZCBpdGVyYXRlcyBvdmVyIGVhY2ggaW1hZ2UgaW4gdGhlICdlbGVtZW50cy5pbWFnZXMnIHByb3BlcnR5LlxuICBjcmVhdGVMb2FkZXIgKCkge1xuICAgIC8vIEZvciBlYWNoIGltYWdlLCBpdCBzZXRzIHVwIGFuICdvbmxvYWQnIGV2ZW50IGhhbmRsZXIgdGhhdCBjYWxscyB0aGUgJ29uQXNzZXRMb2FkZWQnIG1ldGhvZCB3aGVuIHRoZSBpbWFnZSBpcyBsb2FkZWQuXG4gICAgZWFjaCh0aGlzLmVsZW1lbnRzLmltYWdlcywgZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50Lm9ubG9hZCA9IF8gPT4gdGhpcy5vbkFzc2V0TG9hZGVkKGVsZW1lbnQpXG4gICAgICAvLyBJdCBhbHNvIHNldHMgdGhlIGltYWdlIHNvdXJjZSAoJ3NycycpIHRvIHRoZSB2YWx1ZSBvZiB0aGUgJ2RhdGEtc3JjJyBhdHRyaWJ1dGUuXG4gICAgICBlbGVtZW50LnNyYyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpXG4gICAgfSlcbiAgfVxuICAvLyBUaGUgb25Bc3NldExvYWRlZCBtZXRob2QgaXMgY2FsbGVkIHdoZW4gZWFjaCBpbWFnZSBpcyBsb2FkZWQuXG4gIG9uQXNzZXRMb2FkZWQoaW1hZ2UpIHtcbiAgICAvLyBJdCBpbmNyZW1lbnRzIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eSB0byB0cmFjayB0aGUgbnVtYmVyIG9mIGxvYWRlZCBpbWFnZXMuXG4gICAgdGhpcy5sZW5ndGggKz0gMVxuICAgIC8vIENhbGN1bGF0aW5nIHRoZSBwZXJjZW50YWdlIG9mIGltYWdlcyBsb2FkZWQgYW5kIHVwZGF0ZXMgdGhlIHByZWxvYWRlcidzIG51bWJlciBkaXNwbGF5IGFjY29yZGluZ2x5LlxuICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmxlbmd0aCAvIHRoaXMuZWxlbWVudHMuaW1hZ2VzLmxlbmd0aFxuICAgIHRoaXMuZWxlbWVudHMubnVtYmVyLmlubmVySFRNTCA9IGAke01hdGgucm91bmQocGVyY2VudCAqIDEwMCl9JWBcblxuICAgIC8vIElmIGFsbCBpbWFnZXMgYXJlIGxvYWRlZCAoJ3BlcmNlbnQgPT09IDEnKSwgaXQgY2FsbHMgdGhlICdvbkxvYWRlZCcgbWV0aG9kLlxuICAgIGlmIChwZXJjZW50ID09PSAxKSB7XG4gICAgICB0aGlzLm9uTG9hZGVkKClcbiAgICB9XG4gIH1cbiAgLy8gVGhlIG9uTG9hZGVkIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiBhbGwgaW1hZ2VzIGFyZSBsb2FkZWQuXG4gIG9uTG9hZGVkKCkge1xuICAgIC8vIEl0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgY29tcGxldGluZyB0aGUgYW5pbWF0aW9ucy5cbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAvLyBJdCB1c2VzIEdTQVAgdG8gY3JlYXRlIGFuIGFuaW1hdGlvbiB0aW1lbGluZSAoJ3RoaXMuYW5pbWF0ZU91dCcpIHRoYXQgZmFkZXMgb3V0IGFuZCBtb3ZlcyB0aGUgdGl0bGUgc3BhbnMgdXB3YXJkLlxuICAgICAgdGhpcy5hbmltYXRlT3V0ID0gR1NBUC50aW1lbGluZSh7XG4gICAgICAgIGRlbGF5OiAyXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmFuaW1hdGVPdXQudG8odGhpcy5lbGVtZW50cy50aXRsZVNwYW5zLCB7XG4gICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgZHVyYXRpb246IDEuNSxcbiAgICAgICAgZWFzZTogJ2V4cG8ub3V0JyxcbiAgICAgICAgc3RhZ2dlcjogMC4xLFxuICAgICAgICB5OiAnMTAwJScsXG4gICAgICB9KVxuICAgICAgLy8gdGhpcy5hbmltYXRlT3V0LnRvKHRoaXMuZWxlbWVudCwge1xuICAgICAgLy8gICBhdXRvQWxwaGE6IDBcbiAgICAgIC8vIH0pXG5cbiAgICAgIC8vIHRoaXMuYW5pbWF0ZU91dC5jYWxsKF8gPT4ge1xuICAgICAgLy8gICB0aGlzLmVtaXQoJ2NvbXBsZXRlZCcpXG4gICAgICAvLyB9KVxuICAgIH0pXG4gIH1cbiAgLy8gVGhlIGRlc3Ryb3kgbWV0aG9kIHJlbW92ZXMgdGhlIHByZWxvYWRlciBlbGVtZW50IGZyb20gaXRzIHBhcmVudCBub2RlLlxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgfVxufVxuIiwiaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnIC8vIGVhY2ggZnVuY3Rpb24gZnJvbSBsb2Rhc2gsIGZvciBpdGVyYXRpbmcgb3ZlciBjb2xsZWN0aW9ucy5cblxuaW1wb3J0IFByZWxvYWRlciBmcm9tICdjb21wb25lbnRzL1ByZWxvYWRlcidcblxuaW1wb3J0IEFib3V0IGZyb20gJ3BhZ2VzL0Fib3V0J1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gJ3BhZ2VzL0NvbGxlY3Rpb25zJ1xuaW1wb3J0IERldGFpbCBmcm9tICdwYWdlcy9EZXRhaWwnXG5pbXBvcnQgSG9tZSBmcm9tICdwYWdlcy9Ib21lJ1xuXG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvciAoKSB7XG5cbiAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXG4gICAgdGhpcy5jcmVhdGVDb250ZW50KClcbiAgICB0aGlzLmNyZWF0ZVBhZ2VzKClcblxuICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpXG4gIH1cblxuICAvLyBUaGUgY3JlYXRlUHJlbG9hZGVyIG1ldGhvZCBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBQcmVsb2FkZXIgY2xhc3MuXG4gIGNyZWF0ZVByZWxvYWRlcigpIHtcbiAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIoKVxuICAgIC8vIFNldHRpbmcgdXAgYW4gZXZlbnQgbGlzdGVuZXIgdG8gZXhlY3V0ZSB0aGUgb25QcmVsb2FkZWQgbWV0aG9kIG9uY2UgdGhlIHByZWxvYWRpbmcgaXMgY29tcGxldGVkLlxuICAgIHRoaXMucHJlbG9hZGVyLm9uY2UoJ2NvbXBsZXRlZCcsIHRoaXMub25QcmVsb2FkZWQuYmluZCh0aGlzKSlcbiAgfVxuXG4gIC8vIFRoZSBjcmVhdGVDb250ZW50IG1ldGhvZCBzZWxlY3RzIHRoZSBtYWluIGNvbnRlbnQgZWxlbWVudCBhbmQgcmV0cmlldmVzIGl0cyAnZGF0YS10ZW1wbGF0ZScgYXR0cmlidXRlLlxuICBjcmVhdGVDb250ZW50ICgpIHtcbiAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMuY29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxuICB9XG5cbiAgLy8gVGhlIGNyZWF0ZVBhZ2VzIG1ldGhvZCBpbml0aWFsaXplcyBpbnN0YW5jZXMgb2YgdmFyaW91cyBwYWdlIGNsYXNzZXMgKCdBYm91dCcsICdDb2xsZWN0aW9ucycsICdEZXRhaWwnLCAnSG9tZScpLlxuICBjcmVhdGVQYWdlcyAoKSB7XG4gICAgdGhpcy5wYWdlcyA9IHtcbiAgICAgIGFib3V0OiBuZXcgQWJvdXQoKSxcbiAgICAgIGNvbGxlY3Rpb25zOiBuZXcgQ29sbGVjdGlvbnMoKSxcbiAgICAgIGRldGFpbDogbmV3IERldGFpbCgpLFxuICAgICAgaG9tZTogbmV3IEhvbWUoKSxcbiAgICB9XG5cbiAgICAvLyBTZXR0aW5nIHRoZSBjdXJyZW50IHBhZ2UgKCd0aGlzLnBhZ2UnKSBiYXNlZCBvbiB0aGUgdGVtcGxhdGUgb2J0YWluZWQgZnJvbSB0aGUgY29udGVudCBlbGVtZW50LlxuICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV1cbiAgICAvLyBDYWxsaW5nIHRoZSBjcmVhdGUgYW5kIHNob3cgbWV0aG9kcyBvZiB0aGUgY3VycmVudCBwYWdlLlxuICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICAgIHRoaXMucGFnZS5zaG93KClcbiAgfVxuXG4gIC8vIFRoZSBvblByZWxvYWRlZCBtZXRob2QgaXMgY2FsbGVkIHdoZW4gdGhlIHByZWxvYWRpbmcgaXMgY29tcGxldGVkLlxuICBvblByZWxvYWRlZCAoKSB7XG4gICAgLy8gSXQgY2FsbHMgdGhlIGRlc3Ryb3kgbWV0aG9kIG9mIHRoZSBwcmVsb2FkZXIgdG8gY2xlYW4gdXAgYWZ0ZXIgcHJlbG9hZGluZyBpcyBkb25lLlxuICAgIHRoaXMucHJlbG9hZGVyLmRlc3Ryb3koKVxuICB9XG5cbiAgLy8gVGhlIG9uQ2hhbmdlIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiBhIGxpbmsgaXMgY2xpY2tlZC5cbiAgYXN5bmMgb25DaGFuZ2UgKHVybCkge1xuICAgIC8vIEhpZGluZyB0aGUgY3VycmVudCBwYWdlLlxuICAgIGF3YWl0IHRoaXMucGFnZS5oaWRlKClcblxuICAgIC8vIEFzeW5jaHJvbm91cyByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgVVJMIHVzaW5nICd3aW5kb3cuZmV0Y2gnLlxuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxuXG4gICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgc3VjY2Vzc2Z1bCAoJ3N0YXR1cyA9PT0gMjAwJyksIGl0IHByb2Nlc3NlcyB0aGUgSFRNTCByZXNwb25zZS5cbiAgICBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKXtcbiAgICAgIC8vIEV4dHJhY3RpbmcgdGhlIEhUTUwgY29udGVudCBmcm9tIHRoZSByZXNwb25zZSB1c2luZyB0aGUgdGV4dCgpIG1ldGhvZC5cbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKVxuICAgICAgLy8gQ3JlYXRpbmcgYSB0ZW1wb3JhcnkgZGl2IGVsZW1lbnQgaW4gbWVtb3J5LCB0byBwYXJzZSBhbmQgbWFuaXB1bGF0ZSB0aGUgSFRNTCBjb250ZW50LlxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIC8vIFNldHMgaXRzICdpbm5lckhUTUwnIHByb3BlcnR5IHdpdGggdGhlIHJldHJpZXZlZCBIVE1MIGNvbnRlbnQuIFRoaXMgY29udmVydHMgdGhlIEhUTUwgc3RyaW5nIGludG8gYSBET00gc3RydWN0dXJlLlxuICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxcblxuICAgICAgLy8gRmluZHMgYW5kIHNlbGVjdHMgYW4gZWxlbWVudCB3aXRoIHRoZSBjbGFzcyAnY29udGVudCcgd2l0aGluIHRoZSB0ZW1wb3JhcnkgJ2RpdicuXG4gICAgICBjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JylcblxuICAgICAgLy8gUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiB0aGUgJ2RhdGEtdGVtcGxhdGUnIGF0dHJpYnV0ZSBmcm9tIHRoZSBjb250ZW50IHNlY3Rpb24uXG4gICAgICB0aGlzLnRlbXBsYXRlID0gZGl2Q29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxuICAgICAgLy8gVXBkYXRlcyB0aGUgJ2RhdGEtdGVtcGxhdGUnIGF0dHJpYnV0ZSBvZiB0aGUgbWFpbiBjb250ZW50IGVsZW1lbnQgKCd0aGlzLmNvbnRlbnQnKSB3aXRoIHRoZSByZXRyaWV2ZWQgdmFsdWUuXG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSlcbiAgICAgIC8vIFVwZGF0aW5nIHRoZSBpbm5lciBIVE1MIG9mIHRoZSBtYWluIGNvbnRlbnQgZWxlbWVudCgndGhpcy5jb250ZW50Jykgd2l0aCB0aGUgaW5uZXIgSFRNTCBvZiB0aGUgY29udGVudCBzZWN0aW9uIGV4dHJhY3RlZCBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgIC8vIEVzc2VudGlhbGx5IHJlcGxhY2VzIHRoZSBleGlzdGluZyBjb250ZW50IHdpdGggdGhlIG5ldyBjb250ZW50LlxuICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MXG5cbiAgICAgIC8vIFNldHRpbmcgdGhlIGN1cnJlbnQgcGFnZSAoJ3RoaXMucGFnZScpIGJhc2VkIG9uIHRoZSB1cGRhdGVkIHRlbXBsYXRlLlxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgICAgLy8gQ2FsbHMgdGhlIGNyZWF0ZSBtZXRob2Qgb24gdGhlIHVwZGF0ZWQgcGFnZSwgcG90ZW50aWFsbHkgaW5pdGlhbGl6aW5nIG9yIHVwZGF0aW5nIGl0cyBjb250ZW50LlxuICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG4gICAgICAvLyBDYWxscyB0aGUgc2hvdyBtZXRob2Qgb24gdGhlIHVwZGF0ZWQgcGFnZSwgbWFraW5nIGl0IHZpc2libGUuXG4gICAgICB0aGlzLnBhZ2Uuc2hvdygpXG4gICAgICAvLyBDYWxscyB0aGUgYWRkTGlua0xpc3RlbmVycyBtZXRob2QgdG8gYWRkIGxpc3RlbmVycyB0byBsaW5rcyBpbiB0aGUgdXBkYXRlZCBjb250ZW50LiBUaGlzIGVuYWJsZSBuYXZpZ2F0aW9uIHdpdGhpbiB0aGUgYXBwbGljYXRpb24gd2l0aG91dCB0cmlnZ2VyaW5nXG4gICAgICAvLyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gICAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3InKVxuICAgIH1cbiAgfVxuXG4gIC8vIFRoZSBhZGRMaW5rTGlzdGVuZXJzIG1ldGhvZCBhZGRzIGNsaWNrIGV2ZW50IGxpc3RlbmVycyB0byBhbGwgYW5jaG9yICgnPGE+JykgZWxlbWVudHMuXG4gIGFkZExpbmtMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJylcblxuICAgIC8vIFdoZW4gYSBsaW5rIGlzIGNsaWNrZWQsIGl0IHByZXZlbnRzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIChuYXZpZ2F0aW5nIHRvIGEgbmV3IHBhZ2UpIGFuZCBjYWxscyB0aGUgb25DaGFuZ2UgbWV0aG9kIHdpdGggdGhlIGxpbmsncyAnaHJlZicuXG4gICAgZWFjaChsaW5rcywgbGluayA9PiB7XG4gICAgICBsaW5rLm9uY2xpY2sgPSBldmVudCA9PiB7XG4gICAgICAgIGNvbnN0IHsgaHJlZiB9ID0gbGlua1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgdGhpcy5vbkNoYW5nZShocmVmKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxubmV3IEFwcCgpXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJkZGY5ZjUzOGY2NDBlMGE2ODRhNlwiKSJdLCJuYW1lcyI6WyJDb21wb25lbnQiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJlbGVtZW50cyIsInN1cGVyIiwidGhpcyIsInNlbGVjdG9yIiwic2VsZWN0b3JDaGlsZHJlbiIsImNyZWF0ZSIsImFkZEV2ZW50TGlzdGVuZXJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWFjaCIsImVudHJ5Iiwia2V5Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJOb2RlTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW5ndGgiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIlByZWxvYWRlciIsInRpdGxlIiwibnVtYmVyIiwiaW1hZ2VzIiwidGl0bGVTcGFucyIsInNwbGl0IiwiZXhwcmVzc2lvbiIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVMb2FkZXIiLCJvbmxvYWQiLCJfIiwib25Bc3NldExvYWRlZCIsInNyYyIsImdldEF0dHJpYnV0ZSIsImltYWdlIiwicGVyY2VudCIsImlubmVySFRNTCIsIk1hdGgiLCJyb3VuZCIsIm9uTG9hZGVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhbmltYXRlT3V0IiwiR1NBUCIsInRpbWVsaW5lIiwiZGVsYXkiLCJ0byIsImF1dG9BbHBoYSIsImR1cmF0aW9uIiwiZWFzZSIsInN0YWdnZXIiLCJ5IiwiZGVzdHJveSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZVByZWxvYWRlciIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVQYWdlcyIsImFkZExpbmtMaXN0ZW5lcnMiLCJwcmVsb2FkZXIiLCJvbmNlIiwib25QcmVsb2FkZWQiLCJiaW5kIiwiY29udGVudCIsInRlbXBsYXRlIiwicGFnZXMiLCJhYm91dCIsIkFib3V0IiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9ucyIsImRldGFpbCIsIkRldGFpbCIsImhvbWUiLCJIb21lIiwicGFnZSIsInNob3ciLCJvbkNoYW5nZSIsInVybCIsImhpZGUiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwibGlua3MiLCJsaW5rIiwib25jbGljayIsImV2ZW50IiwiaHJlZiIsInByZXZlbnREZWZhdWx0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9